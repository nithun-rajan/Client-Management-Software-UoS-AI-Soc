INFO:     Will watch for changes in these directories: ['/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [9722] using WatchFiles
INFO:     Started server process [9725]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Creating database tables...
âœ… Database ready
INFO:     127.0.0.1:61554 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61557 - "GET /docs HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/api/v1/search.py', 'seed_data.py', 'app/schemas/property.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [9725]
INFO:     Started server process [9934]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Creating database tables...
âœ… Database ready
INFO:     127.0.0.1:61572 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61571 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ~~~~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'Tenancy'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
    ~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py", line 595, in init
    self.do_init()
    ~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1655, in do_init
    self._setup_entity()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1865, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
    ...<5 lines>...
    ) from err
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61572 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61576 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61576 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61578 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61578 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61580 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61580 - "GET /api/v1/landlords/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/landlords.py", line 28, in list_landlords
    landlords = db.query(Landlord).offset(skip).limit(limit).all()
                ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61582 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61582 - "GET /api/v1/landlords/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/landlords.py", line 28, in list_landlords
    landlords = db.query(Landlord).offset(skip).limit(limit).all()
                ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61584 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61586 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61588 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61592 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61602 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61604 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61606 - "GET /api/v1/applicants HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61606 - "GET /api/v1/applicants/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/applicants.py", line 28, in list_applicants
    applicants = db.query(Applicant).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61608 - "GET /api/v1/applicants HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61608 - "GET /api/v1/applicants/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/applicants.py", line 28, in list_applicants
    applicants = db.query(Applicant).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61610 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61610 - "GET /api/v1/landlords/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/landlords.py", line 28, in list_landlords
    landlords = db.query(Landlord).offset(skip).limit(limit).all()
                ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61612 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61612 - "GET /api/v1/landlords/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/landlords.py", line 28, in list_landlords
    landlords = db.query(Landlord).offset(skip).limit(limit).all()
                ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61614 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61614 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61616 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61616 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61619 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61618 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61619 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61623 - "GET /api/v1/events/log HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [9934]
INFO:     Started server process [10057]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Creating database tables...
âœ… Database ready
INFO:     127.0.0.1:61643 - "GET /api/v1/events/log HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10057]
INFO:     Started server process [10071]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10071]
INFO:     Started server process [10078]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10078]
INFO:     Started server process [10080]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Creating database tables...
âœ… Database ready
INFO:     127.0.0.1:61659 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61658 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ~~~~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'Tenancy'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
    ~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py", line 595, in init
    self.do_init()
    ~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1655, in do_init
    self._setup_entity()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1865, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
    ...<5 lines>...
    ) from err
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61659 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61663 - "GET / HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/main.py", line 100, in root
    property_count = db.query(Property).count()
                     ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61665 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61671 - "GET /health HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10080]
INFO:     Started server process [10214]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Creating database tables...
âœ… Database ready
INFO:     127.0.0.1:61686 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61685 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ~~~~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'Tenancy'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
    ~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py", line 595, in init
    self.do_init()
    ~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1655, in do_init
    self._setup_entity()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1865, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
    ...<5 lines>...
    ) from err
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61717 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61719 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61719 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61721 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61721 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61723 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61725 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61727 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61727 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61729 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61729 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61731 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61731 - "GET /api/v1/landlords/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/landlords.py", line 28, in list_landlords
    landlords = db.query(Landlord).offset(skip).limit(limit).all()
                ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61733 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61733 - "GET /api/v1/landlords/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/landlords.py", line 28, in list_landlords
    landlords = db.query(Landlord).offset(skip).limit(limit).all()
                ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61742 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61742 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61745 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61745 - "GET /api/v1/properties/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/properties.py", line 23, in list_properties
    properties = db.query(Property).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61747 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61749 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61760 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61759 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61760 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10214]
INFO:     Started server process [10381]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10381]
INFO:     Started server process [10386]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10386]
INFO:     Started server process [10392]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [10392]
INFO:     Started server process [10393]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ðŸš€ Creating database tables...
âœ… Database ready
INFO:     127.0.0.1:61781 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:61787 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61789 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:61792 - "GET /api/v1/properties HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61794 - "GET /api/v1/landlords HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61796 - "GET /api/v1/applicants HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61798 - "GET /api/v1/kpis/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 516, in _resolve_name
    rval = d[token]
           ~^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/_collections.py", line 345, in __missing__
    self[key] = val = self.creator(key)
                      ~~~~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 484, in _access_cls
    return self.fallback[key]
           ~~~~~~~~~~~~~^^^^^
KeyError: 'Tenancy'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/kpis.py", line 18, in get_kpis
    total_properties = db.query(Property).count()
                       ~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
    ~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/interfaces.py", line 595, in init
    self.do_init()
    ~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1655, in do_init
    self._setup_entity()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/relationships.py", line 1865, in _setup_entity
    self._clsregistry_resolve_name(argument)(),
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 520, in _resolve_name
    self._raise_for_name(name, err)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/clsregistry.py", line 501, in _raise_for_name
    raise exc.InvalidRequestError(
    ...<5 lines>...
    ) from err
sqlalchemy.exc.InvalidRequestError: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61800 - "GET /api/v1/events/log HTTP/1.1" 200 OK
INFO:     127.0.0.1:61802 - "GET /api/v1/search/properties?bedrooms_min=2 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/search.py", line 36, in search_properties
    query = db.query(Property)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
INFO:     127.0.0.1:61805 - "GET /api/v1/applicants HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61805 - "GET /api/v1/applicants/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1134, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 124, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 110, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 390, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/fastapi/routing.py", line 291, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/starlette/concurrency.py", line 38, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        func, args, abandon_on_cancel=abandon_on_cancel, limiter=limiter
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 2485, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/anyio/_backends/_asyncio.py", line 976, in run
    result = context.run(func, *args)
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/app/api/v1/applicants.py", line 28, in list_applicants
    applicants = db.query(Applicant).offset(skip).limit(limit).all()
                 ~~~~~~~~^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2941, in query
    return self._query_cls(entities, self, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 276, in __init__
    self._set_entities(entities)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/query.py", line 289, in _set_entities
    coercions.expect(
    ~~~~~~~~~~~~~~~~^
        roles.ColumnsClauseRole,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        post_inspect=True,
        ^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/sql/coercions.py", line 388, in expect
    insp._post_inspect
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ~~~~~~~~~^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/Users/nithunsundarrajan/Client-Management-Software-UoS-AI-Soc/Team67/venv/lib/python3.13/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Property(properties)]'. Original exception was: When initializing mapper Mapper[Property(properties)], expression 'Tenancy' failed to locate a name ('Tenancy'). If this is a class name, consider adding this relationship() to the <class 'app.models.property.Property'> class after both dependent classes have been defined.
