# Estate Agent CRM - Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# Application Settings
# =============================================================================

# Environment: development, staging, production
ENVIRONMENT=development

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable debug mode (disables some security features for development)
DEBUG=true

# =============================================================================
# Database Configuration
# =============================================================================

# SQLite database URL (for development)
DATABASE_URL=sqlite:///./crm.db

# For production, use PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/crm_db

# =============================================================================
# API Configuration
# =============================================================================

# API host and port
API_HOST=0.0.0.0
API_PORT=8000

# CORS origins (comma-separated list)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# =============================================================================
# Security Settings
# =============================================================================

# Secret key for JWT tokens and CSRF protection (generate with: openssl rand -hex 32)
# ⚠️  CRITICAL: Change this in production!
SECRET_KEY=your-secret-key-here-replace-in-production

# JWT token expiration in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Content Security Policy mode (strict or permissive)
CSP_MODE=permissive

# =============================================================================
# Rate Limiting Configuration
# =============================================================================

# Default rate limit (format: "100/minute", "1000/hour", "10000/day")
RATE_LIMIT_DEFAULT=100/minute

# Rate limit storage backend
# - memory:// (development, not shared across workers)
# - redis://localhost:6379 (production, shared across workers)
RATE_LIMIT_STORAGE_URI=memory://

# =============================================================================
# Observability & Monitoring
# =============================================================================

# Enable Prometheus metrics endpoint
ENABLE_METRICS=true

# Enable structured JSON logging
ENABLE_JSON_LOGGING=true

# Request ID header name
REQUEST_ID_HEADER=X-Request-ID

# =============================================================================
# SLO & Error Budget Configuration
# =============================================================================

# Uptime SLO target (0.999 = 99.9%)
SLO_UPTIME_TARGET=0.999

# P95 latency SLO target in milliseconds
SLO_LATENCY_P95_MS=500

# Error rate SLO target (0.001 = 0.1%)
SLO_ERROR_RATE_TARGET=0.001

# Error budget measurement period in days
ERROR_BUDGET_PERIOD_DAYS=30

# =============================================================================
# Secrets Management (Production)
# =============================================================================

# HashiCorp Vault configuration
# VAULT_ADDR=https://vault.example.com:8200
# VAULT_TOKEN=your-vault-token-here
# VAULT_SECRET_PATH=secret/data/estate-crm
# VAULT_MOUNT_POINT=secret
# VAULT_NAMESPACE=

# Secret rotation settings (days)
# SECRET_ROTATION_DAYS=90

# =============================================================================
# Request Tracing (Development/Staging Only)
# =============================================================================

# Enable request tracing endpoint (/trace)
# ⚠️  WARNING: Only enable in development/staging, never in production!
ENABLE_REQUEST_TRACING=false

# =============================================================================
# External Services (Future)
# =============================================================================

# Email service
SENDGRID_API_KEY=your-sendgrid-api-key-here
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USERNAME=your-username
# SMTP_PASSWORD=your-password

# AWS S3 for file uploads
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=us-east-1

# Redis for caching and rate limiting (optional but recommended for production)
# REDIS_URL=redis://localhost:6379/0
# REDIS_PASSWORD=your-redis-password
# REDIS_SSL=false

# =============================================================================
# Monitoring & Alerting
# =============================================================================

# Prometheus multiprocess directory (for metrics)
# PROMETHEUS_MULTIPROC_DIR=/tmp/prometheus

# Grafana API URL (for dashboards)
# GRAFANA_API_URL=https://grafana.example.com
# GRAFANA_API_KEY=your-grafana-api-key

# Alert notification channels
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
# PAGERDUTY_API_KEY=your-pagerduty-api-key
# PAGERDUTY_SERVICE_ID=your-service-id

# =============================================================================
# Development Tools
# =============================================================================

# Enable hot reload
RELOAD=true

# Disable HTTPS redirect for local development
FORCE_HTTPS=false

# Enable SQL query logging (WARNING: verbose)
SQL_ECHO=false
